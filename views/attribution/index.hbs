<!DOCTYPE html>
<html>
	<head>
		<title>Security Attribution Taxonomy</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="/stylesheets/attribution/index.css">
		<link rel="stylesheet" href="/stylesheets/attribution/select2.css">
	</head>
	<body>
		<script src="/javascripts/attribution/three.js"></script>

		<script src="/javascripts/attribution/3d-force-graph.js"></script>
		<script src="/javascripts/attribution/data-set-loader.js"></script>
		<script src="/javascripts/attribution/jquery2.1.1.min.js"></script>
		<script src="/javascripts/attribution/d3v3.min.js"></script>
		<script src="https://d3js.org/d3.v4.min.js"></script>
		<script src="/javascripts/attribution/2d-tree4.js"></script>
		<script src="/javascripts/attribution/2d-Chart.js"></script>
		<script src="/javascripts/attribution/select2.min.js"></script>
		
		<div id="search"></div>
		<div id="container"></div>
		<div class="graph-data"></div>
		<div id="3d-graph"></div>
		<div id="tree-container"></div>
		<div id="chart"></div>
		
		<div id="menu">
            <a href="/page/ipAttributionInput"><button>IP ATTRIBUTION</button></a>
			<button id="3dforce">3D FORCE DIRECTED</button>
			<button id="2dtree">2D TREE DIAGRAM</button>
			<button id="2dchart">2D CHART DIAGRAM</button>
		</div>

		<script>

			const Graph = ForceGraph3D()
			(document.getElementById("3d-graph"));

			let curDataSetIdx;
			const dataSets = getGraphDataSets();


			curDataSetIdx = curDataSetIdx === undefined ? 0 : (curDataSetIdx+1)%dataSets.length;
			const dataSet = dataSets[curDataSetIdx];

			Graph.resetProps(); // Wipe current state
			dataSet(Graph); // Load data set
			init();

			function init() {

				var button = document.getElementById( '3dforce' );
				button.addEventListener( 'click', function ( event ) {
					$('svg').remove();
					$('div.sunburst-viz').remove();
					$('div.sunburst-tooltip').remove();
					$('#menu').animate({left:'+550px'});
					$('#s2id_search').hide();
					// <!-- const color = d3.scaleO
					const Graph = ForceGraph3D()
					(document.getElementById("3d-graph"));

					let curDataSetIdx;
					const dataSets = getGraphDataSets();


					curDataSetIdx = curDataSetIdx === undefined ? 0 : (curDataSetIdx+1)%dataSets.length;
					const dataSet = dataSets[curDataSetIdx];

					Graph.resetProps(); // Wipe current state
					dataSet(Graph); // Load data set


				}, false );

				var button = document.getElementById( '2dtree' );
				button.addEventListener( 'click', function ( event ) {
					$('svg').remove();
					$('div.sunburst-viz').remove();
					$('div.sunburst-tooltip').remove();
					$('canvas').remove();
					$('#menu').animate({left:'0px'});
					tdtree();

				}, false );

				var button = document.getElementById( '2dchart' );
				button.addEventListener( 'click', function ( event ) {
					$('svg').remove();
					$('canvas').remove();
					$('#menu').animate({left:'-550px'});
					$('#s2id_search').hide();
					<!-- const color = d3.scaleOrdinal(d3.schemeCategory20); -->
					const color = d3.scaleOrdinal()
						.range(["#1b70fc", "#faff16", "#d50527", "#158940", "#f898fd", "#24c9d7", "#cb9b64", "#866888", "#22e67a", "#e509ae", "#9dabfa", "#437e8a", "#b21bff", "#ff7b91", "#94aa05", "#ac5906", "#82a68d", "#fe6616", "#7a7352", "#f9bc0f", "#b65d66", "#07a2e6", "#c091ae", "#8a91a7", "#88fc07", "#ea42fe", "#9e8010", "#10b437", "#c281fe", "#f92b75", "#07c99d", "#a946aa", "#bfd544", "#16977e", "#ff6ac8", "#a88178", "#5776a9", "#678007", "#fa9316", "#85c070", "#6aa2a9", "#989e5d", "#fe9169", "#cd714a", "#6ed014", "#c5639c", "#c23271", "#698ffc", "#678275", "#c5a121", "#a978ba", "#ee534e", "#d24506", "#59c3fa", "#ca7b0a", "#6f7385", "#9a634a", "#48aa6f", "#ad9ad0", "#d7908c", "#6a8a53", "#8c46fc", "#8f5ab8", "#fd1105", "#7ea7cf", "#d77cd1", "#a9804b", "#0688b4", "#6a9f3e", "#ee8fba", "#a67389", "#9e8cfe", "#bd443c", "#6d63ff", "#d110d5", "#798cc3", "#df5f83", "#b1b853", "#bb59d8", "#1d960c", "#867ba8", "#18acc9", "#25b3a7", "#f3db1d", "#938c6d", "#936a24", "#a964fb", "#92e460", "#a05787", "#9c87a0", "#20c773", "#8b696d", "#78762d", "#e154c6", "#40835f", "#d73656", "#1afd5c", "#c4f546", "#3d88d8", "#bd3896", "#1397a3", "#f940a5", "#66aeff", "#d097e7", "#fe6ef9", "#d86507", "#8b900a", "#d47270", "#e8ac48", "#cf7c97", "#cebb11", "#718a90", "#e78139", "#ff7463", "#bea1fd"])
					d3.json('/json/securityAttribution.json', (error, data) => {
						if (error) throw error;
						Sunburst()
							.data(data)
							.label('name')
							.size('size')
							.minSliceAngle(.4)
							.color(d => color(d.name))

							(document.getElementById('chart'));
					});
					
					

				}, false );

			}

		</script>
	</body>
</html>